import{u as f,a as _,r as c,c as a,b as t,t as r,d,e as g,f as m,o as n}from"./index-BofYwv9p.js";const b={class:"about"},k={style:{"margin-top":"20px"}},y={key:0,class:"userInfo"},h=["src"],I={key:1,class:"errorInfo"},B={__name:"SuccessView",setup($){const v=f(),p=_(),o=c(null),s=c(null);async function u(l){try{const e=await m.get(`/api/user/${l}`,{headers:{authorization:`Bearer ${p.query.code}`}});e.data.code===200&&(s.value=null,o.value=e.data.data)}catch(e){o.value=null,s.value=e.response.data}}return(l,e)=>(n(),a("div",b,[t("div",k,[t("button",{onClick:e[0]||(e[0]=i=>u("gitee"))},"获取gitee用户信息"),t("button",{onClick:e[1]||(e[1]=i=>u("github"))},"获取github用户信息")]),o.value?(n(),a("div",y,[t("img",{src:o.value.avatar_url,alt:"",srcset:""},null,8,h),t("p",null,r(o.value.name),1),t("p",null,r(o.value.login),1)])):d("",!0),s.value?(n(),a("div",I,[t("h1",null,r(s.value.error),1),t("button",{onClick:e[2]||(e[2]=i=>g(v).replace("/"))},"返回首页")])):d("",!0)]))}};export{B as default};
